# 카카오 알림톡 인증번호 발송 설정 가이드

## 📊 난이도 비교

### 카카오 알림톡 설정 방법

| 방법 | 난이도 | 설정 시간 | 비용 |
|------|--------|-----------|------|
| **대행사 사용** | ⭐⭐ | 30분-1시간 | 8-20원/건 |
| **직접 API 연동** | ⭐⭐⭐ | 2-3일 (심사 대기 포함) | 8-20원/건 |

---

## 🎯 카카오 알림톡 구현 단계

### 1단계: 카카오 비즈니스 채널 개설 (1-2일 소요)

#### 1.1 비즈니스 채널 신청
- [ ] [카카오 비즈니스](https://bizmsg.kakao.com/) 접속
- [ ] 비즈니스 채널 개설 신청
- [ ] 사업자 등록증 제출
- [ ] 승인 대기 (1-2일)

#### 1.2 채널 승인 완료 확인
- [ ] 채널 승인 완료 확인
- [ ] 발신 프로필 키(sender_key) 확인

---

### 2단계: 템플릿 등록 및 심사 (1-2일 소요)

#### 2.1 인증번호 발송 템플릿 작성
- [ ] 카카오 비즈니스 센터 접속
- [ ] 알림톡 템플릿 작성
- [ ] 템플릿 내용 예시:
  ```
  [터치더월드] 휴대폰 인증
  
  인증번호: #{인증번호}
  
  위 인증번호를 입력해주세요.
  (유효시간: 5분)
  ```
- [ ] 변수 설정: `#{인증번호}` 추가

#### 2.2 템플릿 심사 제출
- [ ] 템플릿 제출
- [ ] 카카오 심사 대기 (1-2일)
- [ ] 템플릿 코드(template_code) 확인

---

### 3단계: API 키 발급 (20분)

#### 3.1 카카오 개발자 센터 설정
- [ ] [카카오 개발자 센터](https://developers.kakao.com/) 접속
- [ ] 내 애플리케이션 만들기
- [ ] 앱 이름: "Touch The World" (또는 원하는 이름)
- [ ] 플랫폼 설정: 웹 플랫폼 추가

#### 3.2 비즈니스 메시지 API 활성화
- [ ] 제품 설정 → 카카오 i Connect Message 활성화
- [ ] 서비스 계약 확인 (디케이테크인과 계약 필요)
- [ ] Client ID, Client Secret 발급

---

### 4단계: 코드 구현 (1시간)

#### 4.1 OAuth 2.0 인증 구현
- [ ] 액세스 토큰 발급 함수 구현
- [ ] 토큰 갱신 로직 구현

#### 4.2 알림톡 발송 API 연동
- [ ] 알림톡 발송 함수 구현
- [ ] 에러 처리 추가
- [ ] 재시도 로직 추가

---

### 5단계: 환경 변수 설정 (5분)

```env
# 카카오 비즈니스 메시지 API
KAKAO_BM_CLIENT_ID="발급받은-Client-ID"
KAKAO_BM_CLIENT_SECRET="발급받은-Client-Secret"
KAKAO_BM_SENDER_KEY="발신-프로필-키"
KAKAO_BM_TEMPLATE_CODE="인증번호-템플릿-코드"
KAKAO_BM_BASE_URL="https://bizmsg-web.kakaoenterprise.com"
```

---

## ⚠️ 주의사항

### 필수 요구사항
1. **서비스 계약**: 디케이테크인과의 별도 서비스 계약 필요
2. **사업자 등록**: 비즈니스 채널 개설 시 사업자 등록증 필요
3. **템플릿 심사**: 모든 템플릿은 카카오 심사 통과 필요
4. **OAuth 인증**: 모든 API 호출 전 OAuth 2.0 인증 필수

### 제한사항
- 템플릿 내용 변경 시 재심사 필요
- 승인되지 않은 템플릿으로는 발송 불가
- 스팸 메시지 발송 시 서비스 중단 가능

---

## 💡 추천

### 가장 간단한 방법
→ **대행사 사용** (30분-1시간 설정)
- 비즈엠, 솔라피 등 국내 대행사 사용
- 템플릿 심사 대행
- 설정 간단

### 직접 제어가 필요한 경우
→ **직접 API 연동** (2-3일 소요)
- 완전한 제어 가능
- 템플릿 심사 직접 진행

---

## 📝 결론

**카카오 알림톡 난이도**: 
- 대행사 사용: ⭐⭐ (간단, 30분-1시간)
- 직접 API 연동: ⭐⭐⭐ (복잡, 2-3일)
