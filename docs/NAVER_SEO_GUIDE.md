# 네이버 검색 최적화 가이드

## 문제 상황
구글 검색에는 노출되지만 네이버 검색에는 노출되지 않는 경우가 있습니다.

## 주요 원인

### 1. 네이버 웹마스터 도구(서치어드바이저) 미등록
- 네이버는 Google과 달리 **수동으로 사이트를 등록**하고 **사이트맵을 제출**해야 합니다.
- 자동 크롤링만으로는 색인까지 시간이 오래 걸릴 수 있습니다.

### 2. 네이버 검색봇(Yeti) 크롤링 지연
- 네이버 검색봇은 Google보다 크롤링 주기가 길 수 있습니다.
- 최근 사이트 변경사항이 반영되는 데 시간이 소요될 수 있습니다.

### 3. robots.txt 설정
- 네이버 검색봇(Yeti)이 접근할 수 있도록 허용되어야 합니다.
- 현재 설정: `robots.ts`에서 Yeti에 대한 명시적 허용 설정 완료 ✅

## 해결 방법

### 1단계: 네이버 웹마스터 도구 등록
1. [네이버 서치어드바이저](https://searchadvisor.naver.com/) 접속
2. 네이버 계정으로 로그인
3. "웹마스터 도구" → "사이트 추가"
4. 사이트 URL 입력: `https://touchtheworld.co.kr`
5. 사이트 소유 확인:
   - HTML 메타 태그 방식: 이미 설정 완료 ✅ (`naver-site-verification` 메타 태그)
   - 또는 HTML 파일 업로드 방식 선택

### 2단계: 사이트맵 제출
1. 서치어드바이저 대시보드에서 "요청" → "사이트맵 제출"
2. 사이트맵 URL 입력: `https://touchtheworld.co.kr/sitemap.xml`
3. 제출 후 "수집 요청" 클릭

### 2-1단계: RSS 제출 (권장)
1. 서치어드바이저 대시보드에서 "요청" → "RSS 제출"
2. RSS URL 입력: `https://touchtheworld.co.kr/rss.xml`
3. RSS 제출의 장점:
   - 새로운 프로그램/행사가 추가되면 자동으로 네이버에 알림
   - 사이트맵보다 더 빠르게 새 콘텐츠를 발견할 수 있음
   - 정기적으로 업데이트되는 콘텐츠에 특히 유용

### 3단계: 사이트 진단
1. 서치어드바이저 대시보드에서 "진단" → "사이트 진단하기"
2. 다음 항목들을 확인:
   - robots.txt 차단 유무
   - 메타 태그 노출 상태
   - HTML 및 서버 설정 오류
   - 검색엔진 친화적 구성 여부

### 4단계: 수집 요청
1. 중요한 페이지에 대해 "요청" → "수집 요청" 실행
2. 특히 다음 페이지들을 우선적으로 요청:
   - 메인 페이지 (`/`)
   - 프로그램 목록 (`/programs`)
   - 행사 목록 (`/events`)
   - 소개 페이지 (`/about`)

### 5단계: 모니터링
1. "수집 현황"에서 크롤링 상태 확인
2. "검색 노출 현황"에서 색인된 페이지 수 확인
3. 오류가 있는 경우 "오류 및 경고" 메뉴에서 확인 후 수정

## 현재 구현된 네이버 검색 최적화 설정

### ✅ 완료된 항목
1. **네이버 사이트 인증 메타 태그**
   - `app/layout.tsx`에 `naver-site-verification` 설정 완료
   - 인증 코드: `7d713c24d0a2bc5a9a32549a03dcd7bd86348d87`

2. **robots.txt 설정**
   - `app/robots.ts`에서 네이버 봇(Yeti) 명시적 허용
   - 사이트맵 URL 포함: `https://touchtheworld.co.kr/sitemap.xml`

3. **사이트맵 생성**
   - `app/sitemap.ts`에서 동적 사이트맵 생성
   - 정적 페이지 + 동적 페이지(프로그램, 행사, 학교) 포함

6. **RSS 피드 생성**
   - `app/rss.xml/route.ts`에서 RSS 2.0 형식의 피드 생성
   - 최근 프로그램 및 행사 각 10개씩 포함 (네이버 권장사항: 중요한 콘텐츠만)
   - 네이버 요구사항 준수:
     - ✅ 본문 전체 공개 (`content:encoded`에 HTML 본문 포함)
     - ✅ 이미지 링크 포함 (`<img>` 태그로 본문에 포함)
     - ✅ 같은 도메인 URL만 사용 (외부 도메인 이미지 제외)
     - ✅ RFC-822 날짜 형식 사용
   - 10분마다 자동 업데이트 (revalidate: 600초)
   - RSS URL: `https://touchtheworld.co.kr/rss.xml`

4. **구조화된 데이터(JSON-LD)**
   - `app/layout.tsx`에 Organization 스키마 추가
   - 네이버 검색 결과에 더 풍부한 정보 표시 가능

5. **네이버 봇 감지**
   - `middleware.ts`에서 네이버 봇(Yeti) 감지 추가
   - 관리자 페이지 접근 시 적절한 처리

### 📋 추가 권장 사항
1. **네이버 웹마스터 도구 등록** (수동 작업 필요)
   - 위의 1-5단계를 따라 진행하세요.

2. **정기적인 사이트맵 업데이트**
   - 새로운 콘텐츠 추가 시 사이트맵 자동 업데이트됨 (revalidate: 600초)

3. **내부 링크 구조 개선**
   - 중요한 페이지들이 내부 링크로 잘 연결되어 있는지 확인

4. **콘텐츠 최적화**
   - 한국어 키워드 최적화
   - 메타 설명 개선
   - 이미지 alt 텍스트 추가

## 참고 자료
- [네이버 서치어드바이저 가이드](https://searchadvisor.naver.com/guide/seo-basic-intro)
- [네이버 검색 최적화 가이드](https://searchadvisor.naver.com/guide/seo-basic-robots)
- [네이버 검색 정책](https://policy.naver.com/rules/search_policy.html)

## 체크리스트
- [ ] 네이버 서치어드바이저에 사이트 등록
- [ ] 사이트맵 제출 (`/sitemap.xml`)
- [ ] RSS 제출 (`/rss.xml`) ⭐ 권장
- [ ] 사이트 진단 실행 및 오류 확인
- [ ] 주요 페이지 수집 요청 (웹 페이지 수집)
- [ ] 수집 현황 모니터링 (1-2주 후)
- [ ] 검색 노출 현황 확인

## 웹 페이지 수집 vs RSS 제출

### 웹 페이지 수집
- **용도**: 개별 페이지를 수동으로 수집 요청
- **언제 사용**: 중요한 페이지가 색인되지 않았을 때
- **장점**: 특정 페이지를 즉시 크롤링 요청 가능
- **단점**: 페이지마다 수동으로 요청해야 함

### RSS 제출
- **용도**: 새로운 콘텐츠를 자동으로 알림
- **언제 사용**: 정기적으로 업데이트되는 콘텐츠가 있을 때
- **장점**: 
  - 새 콘텐츠가 자동으로 네이버에 알림
  - 사이트맵보다 더 빠른 발견 가능
  - 한 번 설정하면 자동으로 작동
- **단점**: RSS 피드가 없으면 사용 불가 (현재 구현 완료 ✅)

**결론**: RSS 제출을 먼저 하고, 특정 페이지가 색인되지 않으면 웹 페이지 수집을 사용하세요.
